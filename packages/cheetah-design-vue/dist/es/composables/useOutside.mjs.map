{"version":3,"file":"useOutside.mjs","sources":["../../../src/composables/useOutside.ts"],"sourcesContent":["import { type Ref, ref, watchPostEffect } from 'vue'\nimport { runAsync } from '../utils'\n\nexport function useOutside(target: Ref<HTMLElement | undefined>, watcher: Ref<boolean>) {\n  const isOutside = ref(false)\n\n  const listener = (evt: MouseEvent) => {\n    isOutside.value = false\n    if (target.value)\n      isOutside.value = !target.value.contains(evt.target as HTMLElement)\n  }\n\n  watchPostEffect(() => {\n    if (watcher.value)\n      runAsync(() => document.addEventListener('click', listener))\n    else\n      document.removeEventListener('click', listener)\n  })\n\n  return {\n    isOutside,\n  }\n}\n"],"names":[],"mappings":";;AAGgB,SAAA,WAAW,QAAsC,SAAuB;AAChF,QAAA,YAAY,IAAI,KAAK;AAErB,QAAA,WAAW,CAAC,QAAoB;AACpC,cAAU,QAAQ;AAClB,QAAI,OAAO;AACT,gBAAU,QAAQ,CAAC,OAAO,MAAM,SAAS,IAAI,MAAqB;AAAA,EAAA;AAGtE,kBAAgB,MAAM;AACpB,QAAI,QAAQ;AACV,eAAS,MAAM,SAAS,iBAAiB,SAAS,QAAQ,CAAC;AAAA;AAElD,eAAA,oBAAoB,SAAS,QAAQ;AAAA,EAAA,CACjD;AAEM,SAAA;AAAA,IACL;AAAA,EAAA;AAEJ;"}