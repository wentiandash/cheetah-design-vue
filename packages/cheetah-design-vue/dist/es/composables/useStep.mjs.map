{"version":3,"file":"useStep.mjs","sources":["../../../src/composables/useStep.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useCount } from '.'\n\nexport function useStep<T>(\n  modelValue: T[],\n  emit: (event: 'update:modelValue', ...args: any[]) => void,\n) {\n  const steps = computed({\n    get() {\n      return modelValue\n    },\n    set(value) {\n      emit('update:modelValue', value)\n    },\n  })\n\n  const {\n    count: current,\n    add: next,\n    sub: prev,\n    update: toggle,\n  } = useCount({\n    min: 0,\n    max: computed(() => steps.value.length - 1),\n  })\n\n  const add = (step: T) => {\n    steps.value?.push(step)\n  }\n\n  const sub = (stepIndex: number) => {\n    steps.value?.splice(stepIndex, 1)\n  }\n\n  return {\n    steps,\n    current,\n    next,\n    prev,\n    toggle,\n    add,\n    sub,\n  }\n}\n"],"names":[],"mappings":";;AAGgB,SAAA,QACd,YACA,MACA;AACA,QAAM,QAAQ,SAAS;AAAA,IACrB,MAAM;AACG,aAAA;AAAA,IACT;AAAA,IACA,IAAI,OAAO;AACT,WAAK,qBAAqB,KAAK;AAAA,IACjC;AAAA,EAAA,CACD;AAEK,QAAA;AAAA,IACJ,OAAO;AAAA,IACP,KAAK;AAAA,IACL,KAAK;AAAA,IACL,QAAQ;AAAA,MACN,SAAS;AAAA,IACX,KAAK;AAAA,IACL,KAAK,SAAS,MAAM,MAAM,MAAM,SAAS,CAAC;AAAA,EAAA,CAC3C;AAEK,QAAA,MAAM,CAAC,SAAY;;AACjB,gBAAA,UAAA,mBAAO,KAAK;AAAA,EAAI;AAGlB,QAAA,MAAM,CAAC,cAAsB;;AAC3B,gBAAA,UAAA,mBAAO,OAAO,WAAW;AAAA,EAAC;AAG3B,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}