{"version":3,"file":"resolver.mjs","sources":["../../../src/components/resolver.ts"],"sourcesContent":["import type {\n  ComponentResolver,\n  SideEffectsInfo,\n} from 'unplugin-vue-components'\n\nexport interface PlayResolverOptions {\n  importStyle?: boolean | 'less'\n  from?: string\n}\n\nexport const isSSR = Boolean(\n  process.env.SSR\n    || process.env.SSG\n    || process.env.VITE_SSR\n    || process.env.VITE_SSG,\n)\n\nexport function kebabCase(key: string) {\n  const result = key.replace(/([A-Z])/g, ' $1').trim()\n  return result.split(' ').join('-').toLowerCase()\n}\n\nfunction getSideEffects(\n  dirName: string,\n  options: PlayResolverOptions,\n): SideEffectsInfo | undefined {\n  const { importStyle = true } = options\n\n  if (!importStyle || isSSR)\n    return\n\n  const noStyleComps: string[] = [\n    'select',\n    'tab-pane',\n    'pagination',\n    'breadcrumb',\n    'virtual-list',\n    'virtual-list-item',\n  ]\n\n  if (noStyleComps.includes(dirName))\n    return\n\n  if (importStyle === 'less') {\n    return [\n      'cheetah-design-vue/src/styles/base.less',\n      `cheetah-design-vue/src/components/${dirName}/src/index.less`,\n    ]\n  }\n\n  return [`cheetah-design-vue/dist/styles/${dirName}/src/index.js`]\n}\n\nexport function PlayResolver(\n  options: PlayResolverOptions = {},\n): ComponentResolver {\n  const { from = 'cheetah-design-vue' } = options\n  return {\n    type: 'component',\n    resolve: (name: string) => {\n      if (name.startsWith('Ch')) {\n        const partialName = name.slice(2)\n        return {\n          name,\n          from,\n          sideEffects: getSideEffects(kebabCase(partialName), options),\n        }\n      }\n    },\n  }\n}\n"],"names":[],"mappings":"AAUO,MAAM,QAAQ;AAAA,EACnB,CAAA,EAAA,OAAY,GAAA,OACC,GAAA,YACA,CAAA,EAAA;AAEf;AAEO,SAAS,UAAU,KAAa;AACrC,QAAM,SAAS,IAAI,QAAQ,YAAY,KAAK,EAAE;AAC9C,SAAO,OAAO,MAAM,GAAG,EAAE,KAAK,GAAG,EAAE;AACrC;AAEA,SAAS,eACP,SACA,SAC6B;AACvB,QAAA,EAAE,cAAc,KAAS,IAAA;AAE/B,MAAI,CAAC,eAAe;AAClB;AAEF,QAAM,eAAyB;AAAA,IAC7B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAGE,MAAA,aAAa,SAAS,OAAO;AAC/B;AAEF,MAAI,gBAAgB,QAAQ;AACnB,WAAA;AAAA,MACL;AAAA,MACA,qCAAqC,OAAO;AAAA,IAAA;AAAA,EAEhD;AAEO,SAAA,CAAC,kCAAkC,OAAO,eAAe;AAClE;AAEgB,SAAA,aACd,UAA+B,IACZ;AACb,QAAA,EAAE,OAAO,qBAAyB,IAAA;AACjC,SAAA;AAAA,IACL,MAAM;AAAA,IACN,SAAS,CAAC,SAAiB;AACrB,UAAA,KAAK,WAAW,IAAI,GAAG;AACnB,cAAA,cAAc,KAAK,MAAM,CAAC;AACzB,eAAA;AAAA,UACL;AAAA,UACA;AAAA,UACA,aAAa,eAAe,UAAU,WAAW,GAAG,OAAO;AAAA,QAAA;AAAA,MAE/D;AAAA,IACF;AAAA,EAAA;AAEJ;"}