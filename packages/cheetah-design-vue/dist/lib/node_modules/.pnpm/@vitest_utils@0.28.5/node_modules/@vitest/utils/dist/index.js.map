{"version":3,"file":"index.js","sources":["../../../../../../../../../../../node_modules/.pnpm/@vitest+utils@0.28.5/node_modules/@vitest/utils/dist/index.js"],"sourcesContent":["export { assertTypes, clone, createDefer, deepClone, getOwnProperties, getType, isObject, noop, objectAttr, slash, toArray } from './helpers.js';\nimport { format as format$1, plugins } from 'pretty-format';\nimport util from 'util';\nimport loupeImport from 'loupe';\n\nconst {\n  AsymmetricMatcher,\n  DOMCollection,\n  DOMElement,\n  Immutable,\n  ReactElement,\n  ReactTestComponent\n} = plugins;\nconst PLUGINS = [\n  ReactTestComponent,\n  ReactElement,\n  DOMElement,\n  DOMCollection,\n  Immutable,\n  AsymmetricMatcher\n];\nfunction stringify(object, maxDepth = 10, { maxLength, ...options } = {}) {\n  const MAX_LENGTH = maxLength ?? 1e4;\n  let result;\n  try {\n    result = format$1(object, {\n      maxDepth,\n      escapeString: false,\n      plugins: PLUGINS,\n      ...options\n    });\n  } catch {\n    result = format$1(object, {\n      callToJSON: false,\n      maxDepth,\n      escapeString: false,\n      plugins: PLUGINS,\n      ...options\n    });\n  }\n  return result.length >= MAX_LENGTH && maxDepth > 1 ? stringify(object, Math.floor(maxDepth / 2)) : result;\n}\n\nconst SAFE_TIMERS_SYMBOL = Symbol(\"vitest:SAFE_TIMERS\");\nconst SAFE_COLORS_SYMBOL = Symbol(\"vitest:SAFE_COLORS\");\n\nfunction getSafeTimers() {\n  const {\n    setTimeout: safeSetTimeout,\n    setInterval: safeSetInterval,\n    clearInterval: safeClearInterval,\n    clearTimeout: safeClearTimeout\n  } = globalThis[SAFE_TIMERS_SYMBOL] || globalThis;\n  return {\n    setTimeout: safeSetTimeout,\n    setInterval: safeSetInterval,\n    clearInterval: safeClearInterval,\n    clearTimeout: safeClearTimeout\n  };\n}\nfunction setSafeTimers() {\n  const {\n    setTimeout: safeSetTimeout,\n    setInterval: safeSetInterval,\n    clearInterval: safeClearInterval,\n    clearTimeout: safeClearTimeout\n  } = globalThis;\n  const timers = {\n    setTimeout: safeSetTimeout,\n    setInterval: safeSetInterval,\n    clearInterval: safeClearInterval,\n    clearTimeout: safeClearTimeout\n  };\n  globalThis[SAFE_TIMERS_SYMBOL] = timers;\n}\n\nconst RealDate = Date;\nfunction random(seed) {\n  const x = Math.sin(seed++) * 1e4;\n  return x - Math.floor(x);\n}\nfunction shuffle(array, seed = RealDate.now()) {\n  let length = array.length;\n  while (length) {\n    const index = Math.floor(random(seed) * length--);\n    const previous = array[length];\n    array[length] = array[index];\n    array[index] = previous;\n    ++seed;\n  }\n  return array;\n}\n\nconst loupe = typeof loupeImport.default === \"function\" ? loupeImport.default : loupeImport;\nfunction format(...args) {\n  return util.format(...args);\n}\nfunction inspect(obj) {\n  return loupe(obj, {\n    depth: 2,\n    truncate: 40\n  });\n}\nfunction objDisplay(obj) {\n  const truncateThreshold = 40;\n  const str = inspect(obj);\n  const type = Object.prototype.toString.call(obj);\n  if (str.length >= truncateThreshold) {\n    if (type === \"[object Function]\") {\n      const fn = obj;\n      return !fn.name || fn.name === \"\" ? \"[Function]\" : `[Function: ${fn.name}]`;\n    } else if (type === \"[object Array]\") {\n      return `[ Array(${obj.length}) ]`;\n    } else if (type === \"[object Object]\") {\n      const keys = Object.keys(obj);\n      const kstr = keys.length > 2 ? `${keys.splice(0, 2).join(\", \")}, ...` : keys.join(\", \");\n      return `{ Object (${kstr}) }`;\n    } else {\n      return str;\n    }\n  }\n  return str;\n}\n\nconst colors = [\n  \"reset\",\n  \"bold\",\n  \"dim\",\n  \"italic\",\n  \"underline\",\n  \"inverse\",\n  \"hidden\",\n  \"strikethrough\",\n  \"black\",\n  \"red\",\n  \"green\",\n  \"yellow\",\n  \"blue\",\n  \"magenta\",\n  \"cyan\",\n  \"white\",\n  \"gray\",\n  \"bgBlack\",\n  \"bgRed\",\n  \"bgGreen\",\n  \"bgYellow\",\n  \"bgBlue\",\n  \"bgMagenta\",\n  \"bgCyan\",\n  \"bgWhite\"\n];\nconst formatter = (str) => String(str);\nconst defaultColors = colors.reduce((acc, key) => {\n  acc[key] = formatter;\n  return acc;\n}, { isColorSupported: false });\nfunction getColors() {\n  return globalThis[SAFE_COLORS_SYMBOL] || defaultColors;\n}\nfunction setColors(colors2) {\n  globalThis[SAFE_COLORS_SYMBOL] = colors2;\n}\n\nfunction createSimpleStackTrace(options) {\n  const { message = \"error\", stackTraceLimit = 1 } = options || {};\n  const limit = Error.stackTraceLimit;\n  const prepareStackTrace = Error.prepareStackTrace;\n  Error.stackTraceLimit = stackTraceLimit;\n  Error.prepareStackTrace = (e) => e.stack;\n  const err = new Error(message);\n  const stackTrace = err.stack || \"\";\n  Error.prepareStackTrace = prepareStackTrace;\n  Error.stackTraceLimit = limit;\n  return stackTrace;\n}\n\nexport { SAFE_COLORS_SYMBOL, SAFE_TIMERS_SYMBOL, createSimpleStackTrace, format, getColors, getSafeTimers, inspect, objDisplay, setColors, setSafeTimers, shuffle, stringify };\n"],"names":["loupeImport","util"],"mappings":";;;;;AA2CK,MAAC,qBAAqB,OAAO,oBAAoB;AAGtD,SAAS,gBAAgB;AACvB,QAAM;AAAA,IACJ,YAAY;AAAA,IACZ,aAAa;AAAA,IACb,eAAe;AAAA,IACf,cAAc;AAAA,EAClB,IAAM,WAAW,kBAAkB,KAAK;AACtC,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,aAAa;AAAA,IACb,eAAe;AAAA,IACf,cAAc;AAAA,EAClB;AACA;AAkCA,MAAM,QAAQ,OAAOA,QAAAA,QAAY,YAAY,aAAaA,QAAW,QAAC,UAAUA;AAChF,SAAS,UAAU,MAAM;AACvB,SAAOC,8BAAK,OAAO,GAAG,IAAI;AAC5B;AACA,SAAS,QAAQ,KAAK;AACpB,SAAO,MAAM,KAAK;AAAA,IAChB,OAAO;AAAA,IACP,UAAU;AAAA,EACd,CAAG;AACH;AACA,SAAS,WAAW,KAAK;AACvB,QAAM,oBAAoB;AAC1B,QAAM,MAAM,QAAQ,GAAG;AACvB,QAAM,OAAO,OAAO,UAAU,SAAS,KAAK,GAAG;AAC/C,MAAI,IAAI,UAAU,mBAAmB;AACnC,QAAI,SAAS,qBAAqB;AAChC,YAAM,KAAK;AACX,aAAO,CAAC,GAAG,QAAQ,GAAG,SAAS,KAAK,eAAe,cAAc,GAAG,IAAI;AAAA,IAC9E,WAAe,SAAS,kBAAkB;AACpC,aAAO,WAAW,IAAI,MAAM;AAAA,IAClC,WAAe,SAAS,mBAAmB;AACrC,YAAM,OAAO,OAAO,KAAK,GAAG;AAC5B,YAAM,OAAO,KAAK,SAAS,IAAI,GAAG,KAAK,OAAO,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,UAAU,KAAK,KAAK,IAAI;AACtF,aAAO,aAAa,IAAI;AAAA,IAC9B,OAAW;AACL,aAAO;AAAA,IACR;AAAA,EACF;AACD,SAAO;AACT;AAEA,MAAM,SAAS;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AACA,MAAM,YAAY,CAAC,QAAQ,OAAO,GAAG;AACf,OAAO,OAAO,CAAC,KAAK,QAAQ;AAChD,MAAI,GAAG,IAAI;AACX,SAAO;AACT,GAAG,EAAE,kBAAkB,MAAO,CAAA;;;;;;","x_google_ignoreList":[0]}