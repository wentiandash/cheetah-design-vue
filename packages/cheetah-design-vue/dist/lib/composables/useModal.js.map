{"version":3,"file":"useModal.js","sources":["../../../src/composables/useModal.ts"],"sourcesContent":["import { ref, watch, watchEffect } from 'vue'\nimport { useExpose, useOutside, useToggle } from '.'\n\nexport function useModal(emit: (event: 'open' | 'close') => void) {\n  const modal = ref<HTMLElement>()\n  const toggle = useToggle()\n  const { isOutside } = useOutside(modal, toggle.state)\n\n  watch(toggle.state, value => emit(value ? 'open' : 'close'))\n  watchEffect(() => isOutside.value && (toggle.state.value = false))\n  useExpose(toggle)\n\n  return {\n    modal: Object.assign(modal, toggle),\n  }\n}\n"],"names":["ref","useToggle","useOutside","watch","watchEffect","useExpose"],"mappings":";;;;;;AAGO,SAAS,SAAS,MAAyC;AAChE,QAAM,QAAQA,IAAAA;AACd,QAAM,SAASC,UAAAA;AACf,QAAM,EAAE,UAAU,IAAIC,WAAAA,WAAW,OAAO,OAAO,KAAK;AAEpDC,YAAM,OAAO,OAAO,CAAA,UAAS,KAAK,QAAQ,SAAS,OAAO,CAAC;AAC3DC,kBAAY,MAAM,UAAU,UAAU,OAAO,MAAM,QAAQ,MAAM;AACjEC,YAAA,UAAU,MAAM;AAET,SAAA;AAAA,IACL,OAAO,OAAO,OAAO,OAAO,MAAM;AAAA,EAAA;AAEtC;;"}