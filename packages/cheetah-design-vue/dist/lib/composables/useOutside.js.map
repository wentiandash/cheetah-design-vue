{"version":3,"file":"useOutside.js","sources":["../../../src/composables/useOutside.ts"],"sourcesContent":["import { type Ref, ref, watchPostEffect } from 'vue'\nimport { runAsync } from '../utils'\n\nexport function useOutside(target: Ref<HTMLElement | undefined>, watcher: Ref<boolean>) {\n  const isOutside = ref(false)\n\n  const listener = (evt: MouseEvent) => {\n    isOutside.value = false\n    if (target.value)\n      isOutside.value = !target.value.contains(evt.target as HTMLElement)\n  }\n\n  watchPostEffect(() => {\n    if (watcher.value)\n      runAsync(() => document.addEventListener('click', listener))\n    else\n      document.removeEventListener('click', listener)\n  })\n\n  return {\n    isOutside,\n  }\n}\n"],"names":["ref","watchPostEffect","runAsync"],"mappings":";;;;AAGgB,SAAA,WAAW,QAAsC,SAAuB;AAChF,QAAA,YAAYA,QAAI,KAAK;AAErB,QAAA,WAAW,CAAC,QAAoB;AACpC,cAAU,QAAQ;AAClB,QAAI,OAAO;AACT,gBAAU,QAAQ,CAAC,OAAO,MAAM,SAAS,IAAI,MAAqB;AAAA,EAAA;AAGtEC,MAAAA,gBAAgB,MAAM;AACpB,QAAI,QAAQ;AACVC,YAAA,SAAS,MAAM,SAAS,iBAAiB,SAAS,QAAQ,CAAC;AAAA;AAElD,eAAA,oBAAoB,SAAS,QAAQ;AAAA,EAAA,CACjD;AAEM,SAAA;AAAA,IACL;AAAA,EAAA;AAEJ;;"}