{"version":3,"file":"useToggle.js","sources":["../../../src/composables/useToggle.ts"],"sourcesContent":["import { type Ref, type WatchStopHandle, ref, watch } from 'vue'\n\nexport interface CloseOption {\n  delay?: number\n}\n\nexport interface ToggleHandler {\n  state: Ref<boolean>\n  open: () => any\n  close: (option?: CloseOption) => any\n  toggle: () => any\n  onOpen: (cb: () => any) => WatchStopHandle\n  onClose: (cb: () => any) => WatchStopHandle\n}\n\nexport function useToggle(): ToggleHandler {\n  const state = ref(false)\n  const onOpen = (cb: () => any) => watch(state, () => state.value && cb?.())\n  const onClose = (cb: () => any) => watch(state, () => state.value || cb?.())\n  const toggle = () => state.value = !state.value\n  const open = () => state.value = true\n  const close = (option?: CloseOption) => {\n    if (option?.delay)\n      setTimeout(() => state.value = false, option.delay)\n    else\n      state.value = false\n  }\n\n  return {\n    state,\n    toggle,\n    open,\n    close,\n    onOpen,\n    onClose,\n  }\n}\n"],"names":["ref","watch"],"mappings":";;;AAeO,SAAS,YAA2B;AACnC,QAAA,QAAQA,QAAI,KAAK;AACjB,QAAA,SAAS,CAAC,OAAkBC,UAAM,OAAO,MAAM,MAAM,UAAS,2BAAM;AACpE,QAAA,UAAU,CAAC,OAAkBA,UAAM,OAAO,MAAM,MAAM,UAAS,2BAAM;AAC3E,QAAM,SAAS,MAAM,MAAM,QAAQ,CAAC,MAAM;AACpC,QAAA,OAAO,MAAM,MAAM,QAAQ;AAC3B,QAAA,QAAQ,CAAC,WAAyB;AACtC,QAAI,iCAAQ;AACV,iBAAW,MAAM,MAAM,QAAQ,OAAO,OAAO,KAAK;AAAA;AAElD,YAAM,QAAQ;AAAA,EAAA;AAGX,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}