{"version":3,"file":"index.js","sources":["../../../../../src/components/breadcrumb/src/index.tsx"],"sourcesContent":["import type { ExtractPropTypes, PropType } from 'vue'\nimport { defineComponent, getCurrentInstance } from 'vue'\nimport type { RouteLocationRaw } from 'vue-router'\nimport { useStep } from '../../../composables'\nimport Button from '../../button'\n\nexport interface BreadcrumbItem {\n  name: string\n  separator?: String\n  to: RouteLocationRaw\n  icon: string\n}\n\nexport type BreadcrumbProps = ExtractPropTypes<typeof breadcrumbProps>\n\nconst breadcrumbProps = {\n  modelValue: Array as PropType<BreadcrumbItem[]>,\n  replace: Boolean,\n  separator: {\n    type: String,\n    default: '/',\n  },\n}\nexport default defineComponent({\n  name: 'Breadcrumb',\n  props: breadcrumbProps,\n  emits: ['update:modelValue'],\n  setup(props, { emit }) {\n    const { steps, current, toggle } = useStep<BreadcrumbItem>(\n      props.modelValue!,\n      emit,\n    )\n    const instance = getCurrentInstance()\n    const router = instance?.appContext.config.globalProperties.$router\n\n    const onClick = (index: number, breadcrumb: BreadcrumbItem) => {\n      return () => {\n        toggle(index)\n        if (!breadcrumb.to || !router)\n          return\n        props.replace\n          ? router.replace(breadcrumb.to)\n          : router.push(breadcrumb.to)\n      }\n    }\n\n    return () => (\n      <>\n        {steps.value?.map((step, index) => (\n          <>\n            <span v-show={index !== 0}>{props.separator}</span>\n            <Button\n              size='mini'\n              mode='link'\n              iconLeft={step.icon}\n              state={current.value === index ? 'primary' : 'info'}\n              onClick={onClick(index, step)}\n            >\n              {step.name}\n            </Button>\n          </>\n        ))}\n      </>\n    )\n  },\n})\n"],"names":["defineComponent","useStep","getCurrentInstance","index","_createVNode","_Fragment","_withDirectives","_vShow","Button"],"mappings":";;;;;AAIA,MAAM,kBAAkB;AAAA,EACtB,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,WAAW;AAAA,IACT,MAAM;AAAA,IACN,SAAS;AAAA,EACV;AACH;AACA,MAAe,aAAgBA,oCAAgB;AAAA,EAC7C,MAAM;AAAA,EACN,OAAO;AAAA,EACP,OAAO,CAAC,mBAAmB;AAAA,EAC3B,MAAM,OAAO;AAAA,IACX;AAAA,EACJ,GAAK;AACD,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,IACD,IAAGC,gBAAQ,MAAM,YAAY,IAAI;AAClC,UAAM,WAAWC,IAAAA;AACjB,UAAM,SAAS,qCAAU,WAAW,OAAO,iBAAiB;AAC5D,UAAM,UAAU,CAACC,QAAO,eAAe;AACrC,aAAO,MAAM;AACX,eAAOA,MAAK;AACZ,YAAI,CAAC,WAAW,MAAM,CAAC;AAAQ;AAC/B,cAAM,UAAU,OAAO,QAAQ,WAAW,EAAE,IAAI,OAAO,KAAK,WAAW,EAAE;AAAA,MACjF;AAAA,IACA;AACI,WAAO,MAAMC;;AAAAA,iBAAAA,YAAaC,IAAAA,UAAW,MAAM,EAAC,WAAM,UAAN,mBAAa,IAAI,CAAC,MAAMF,YAAUC,IAAY,YAACC,IAAS,UAAE,MAAM,CAACC,IAAAA,eAAgBF,IAAY,YAAC,QAAQ,MAAM,CAAC,MAAM,SAAS,CAAC,GAAG,CAAC,CAACG,IAAM,OAAEJ,YAAU,CAAC,CAAC,CAAC,GAAGC,IAAAA,YAAaI,MAAAA,UAAQ;AAAA,QACzN,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,YAAY,KAAK;AAAA,QACjB,SAAS,QAAQ,UAAUL,UAAQ,YAAY;AAAA,QAC/C,WAAW,QAAQA,SAAO,IAAI;AAAA,MACpC,GAAO;AAAA,QACD,SAAS,MAAM,CAAC,KAAK,IAAI;AAAA,MAC/B,CAAK,CAAC,CAAC,EAAE,CAAC;AAAA;AAAA,EACP;AACH,CAAC;;"}