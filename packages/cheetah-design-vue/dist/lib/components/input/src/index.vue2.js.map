{"version":3,"file":"index.vue2.js","sources":["../../../../../src/components/input/src/index.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, mergeProps as _mergeProps, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"__prepend\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"__prefix\"\n}\nconst _hoisted_3 = [\"type\", \"value\", \"placeholder\", \"disabled\"]\nconst _hoisted_4 = { class: \"ch-input-tip\" }\nconst _hoisted_5 = {\n  key: 1,\n  class: \"__append\"\n}\n\nimport { computed, ref, useSlots, watchEffect } from 'vue'\nimport Icon from '../../icon'\nimport { inputProps } from './input'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  ...{ name: 'Input' },\n  __name: 'index',\n  props: inputProps,\n  emits: ['update:modelValue', 'blur'],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst slots = useSlots()\nconst verify = ref(false)\nconst state = ref('primary')\nconst tip = ref(props.infoTip)\nconst isFocus = ref(false)\nconst inputEl = ref<HTMLInputElement>()\nconst inputStyle = computed(() => {\n  return {\n    borderTopLeftRadius: slots.prepend && 0,\n    borderBottomLeftRadius: slots.prepend && 0,\n    borderTopRightRadius: slots.append && 0,\n    borderBottomRightRadius: slots.append && 0,\n  }\n})\n\nwatchEffect(() => {\n  const value = props.modelValue.toString()\n\n  if (value && props.pattern) {\n    verify.value = props.pattern.test(value)\n\n    if (verify.value) {\n      state.value = 'success'\n      tip.value = props.successTip\n    }\n    else if (!verify.value) {\n      state.value = 'error'\n      tip.value = props.errorTip\n    }\n  }\n  else {\n    state.value = 'primary'\n    tip.value = props.infoTip\n  }\n})\n\nconst handleFocus = () => {\n  isFocus.value = true\n}\n\nconst handleClearable = (evt: MouseEvent) => {\n  if (props.modelValue)\n    evt.stopPropagation()\n\n  if (props.clearable) {\n    inputEl.value?.focus()\n    emit('update:modelValue', '')\n  }\n}\n\nconst handleInput = () => {\n  emit('update:modelValue', inputEl.value?.value)\n}\n\nconst handleBlur = (evt: FocusEvent) => {\n  emit('blur', evt)\n  isFocus.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"ch-input-container\", `ch-input--${_ctx.size}`])\n  }, [\n    (_ctx.$slots.prepend)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _renderSlot(_ctx.$slots, \"prepend\")\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"ch-input-wrapper\", [\n        `ch-input--${_ctx.mode}`,\n        `ch-input--${state.value}`,\n        isFocus.value && 'is-focus',\n      ]]),\n      style: _normalizeStyle(inputStyle.value),\n      tabindex: \"0\"\n    }, [\n      (_ctx.prefixIcon)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n            _createVNode(_unref(Icon), { name: _ctx.prefixIcon }, null, 8, [\"name\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      (!_ctx.$slots.selectWrapper)\n        ? (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n            key: 1,\n            ref_key: \"inputEl\",\n            ref: inputEl,\n            class: \"ch-input\",\n            type: _ctx.type,\n            value: _ctx.modelValue,\n            placeholder: _ctx.placeholder,\n            disabled: _ctx.disabled\n          }, _ctx.$attrs, {\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            onInput: handleInput\n          }), null, 16, _hoisted_3))\n        : _renderSlot(_ctx.$slots, \"selectWrapper\", { key: 2 }),\n      (_ctx.suffixIcon || _ctx.clearable)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 3,\n            class: \"__suffix\",\n            onClick: handleClearable\n          }, [\n            _createVNode(_unref(Icon), {\n              name: _ctx.modelValue ? 'x-circle' : _ctx.suffixIcon ?? ''\n            }, null, 8, [\"name\"])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 6),\n    _createElementVNode(\"div\", _hoisted_4, _toDisplayString(tip.value), 1),\n    (_ctx.$slots.append)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _renderSlot(_ctx.$slots, \"append\")\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})"],"names":["_defineComponent","inputProps","useSlots","ref","computed","watchEffect","_openBlock","_createElementBlock","_normalizeClass","_renderSlot","_createCommentVNode","_createElementVNode","_normalizeStyle","_createVNode","_unref","Icon","_mergeProps","_toDisplayString"],"mappings":"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"}